the matlab code final.m or mask_defects_in_STM_images.m is used to calculate the cross correlation between the center of extended defects and Charge density wave.
you can find a more detailed description in the PDF document, specifically in the section Template MAtching, and Cross correlation analysis.
